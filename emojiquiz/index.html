<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Quiz Party! ğŸ‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap');

        body {
            font-family: 'Fredoka', sans-serif;
            overflow: hidden; /* Prevent scrolling during animations */
        }

        /* Animated Background */
        .animated-bg {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Card Glassmorphism */
        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 4px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            animation: floatCard 6s ease-in-out infinite;
            max-height: 90vh; /* Ensure it fits on mobile */
            overflow-y: auto; /* Allow scrolling inside card if needed */
        }
        
        /* Custom Scrollbar for the panel */
        .glass-panel::-webkit-scrollbar {
            width: 8px;
        }
        .glass-panel::-webkit-scrollbar-track {
            background: transparent; 
        }
        .glass-panel::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        .glass-panel::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        @keyframes floatCard {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* Emoji Animation */
        .emoji-bounce {
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(-5%); }
            50% { transform: translateY(5%); }
        }

        /* Button Interactions */
        .option-btn {
            transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
            transform-style: preserve-3d;
            /* Start hidden for entrance animation */
            opacity: 0;
            transform: translateY(20px);
            animation: slideIn 0.4s forwards;
        }

        @keyframes slideIn {
            to { opacity: 1; transform: translateY(0); }
        }

        .option-btn:active {
            transform: scale(0.95) translateY(4px);
        }

        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* Selection Buttons */
        .select-btn {
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }
        .select-btn.selected {
            background-color: #4f46e5; /* indigo-600 */
            color: white;
            border-color: #818cf8;
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(79, 70, 229, 0.5);
        }
        
        /* Category Buttons */
        .cat-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* Wrong Answer Shake */
        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-2px, 0, 0); }
            20%, 80% { transform: translate3d(4px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-8px, 0, 0); }
            40%, 60% { transform: translate3d(8px, 0, 0); }
        }

        /* Right Answer Pop */
        .pop-success {
            animation: popSuccess 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%) !important;
            color: white !important;
            border-color: #166534 !important;
            z-index: 10;
            opacity: 1 !important; /* Force visible */
            transform: translateY(0) !important; /* Reset position */
        }

        @keyframes popSuccess {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Wrong Answer Pop */
        .pop-fail {
            background: linear-gradient(135deg, #f87171 0%, #ef4444 100%) !important;
            color: white !important;
            border-color: #991b1b !important;
            opacity: 1 !important; /* Force visible */
            transform: translateY(0) !important; /* Reset position */
        }

        /* Floating particles */
        .floater {
            position: absolute;
            opacity: 0.3;
            animation: floatUp 10s linear infinite;
            z-index: 0;
            pointer-events: none;
        }

        @keyframes floatUp {
            0% { transform: translateY(110vh) rotate(0deg); }
            100% { transform: translateY(-10vh) rotate(360deg); }
        }

        .progress-bar-fill {
            transition: width 0.5s ease-out;
        }

        /* Timer Animation */
        @keyframes timerShrink {
            from { width: 100%; }
            to { width: 0%; }
        }
        
        .timer-active {
            animation-timing-function: linear;
            animation-fill-mode: forwards;
        }

        .timer-danger {
            animation: pulseRed 0.5s infinite;
        }

        @keyframes pulseRed {
            0%, 100% { background-color: #ef4444; box-shadow: 0 0 5px #ef4444; }
            50% { background-color: #ff0000; box-shadow: 0 0 15px #ff0000; }
        }

    </style>
</head>
<body class="animated-bg h-screen w-screen flex items-center justify-center relative">

    <!-- Floating Emojis Background -->
    <div id="background-elements"></div>

    <!-- Main Game Container -->
    <main class="w-full max-w-md p-2 md:p-4 relative z-10 flex flex-col h-full justify-center">
        
        <!-- START SCREEN -->
        <div id="start-screen" class="glass-panel rounded-3xl p-6 text-center animate-fade-in-up flex flex-col gap-4">
            <div>
                <h1 class="text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600 mb-1 filter drop-shadow-sm">
                    Emoji Quiz
                </h1>
                <p class="text-gray-500 font-bold text-xs uppercase tracking-widest">
                    <span id="total-questions">0</span> SPÃ˜RSMÃ…L I BASEN
                </p>
            </div>
            
            <div class="text-6xl md:text-7xl emoji-bounce cursor-pointer hover:scale-110 transition-transform">
                ğŸ¤”
            </div>

            <!-- Time Selection -->
            <div>
                <p class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-2">1. Velg Tid</p>
                <div class="flex justify-center gap-2">
                    <button onclick="selectTime(5)" id="btn-5s" class="select-btn bg-white/50 hover:bg-white text-gray-700 font-bold py-2 px-3 rounded-xl shadow-sm text-sm">
                        âš¡ 5s
                    </button>
                    <button onclick="selectTime(10)" id="btn-10s" class="select-btn bg-white/50 hover:bg-white text-gray-700 font-bold py-2 px-3 rounded-xl shadow-sm text-sm selected">
                        ğŸ•°ï¸ 10s
                    </button>
                    <button onclick="selectTime('inf')" id="btn-inf" class="select-btn bg-white/50 hover:bg-white text-gray-700 font-bold py-2 px-3 rounded-xl shadow-sm text-sm">
                        ğŸ§˜ âˆ
                    </button>
                </div>
            </div>

            <!-- Category Selection -->
            <div>
                <p class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-2">2. Velg Kategori</p>
                <div class="grid grid-cols-2 gap-2 text-sm">
                    <button onclick="startGame('all')" class="cat-btn w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-bold py-3 px-2 rounded-xl shadow hover:shadow-md transform transition-transform">
                        ğŸ² Alt Blandet
                    </button>
                    <button onclick="startGame('movies')" class="cat-btn w-full bg-white/60 hover:bg-white text-gray-800 font-bold py-3 px-2 rounded-xl shadow-sm">
                        ğŸ¬ Filmer
                    </button>
                    <button onclick="startGame('food')" class="cat-btn w-full bg-white/60 hover:bg-white text-gray-800 font-bold py-3 px-2 rounded-xl shadow-sm">
                        ğŸ” Mat
                    </button>
                    <button onclick="startGame('animals')" class="cat-btn w-full bg-white/60 hover:bg-white text-gray-800 font-bold py-3 px-2 rounded-xl shadow-sm">
                        ğŸ¦ Dyr
                    </button>
                    <button onclick="startGame('gaming')" class="cat-btn w-full bg-white/60 hover:bg-white text-gray-800 font-bold py-3 px-2 rounded-xl shadow-sm">
                        ğŸ® Spill
                    </button>
                    <button onclick="startGame('geo')" class="cat-btn w-full bg-white/60 hover:bg-white text-gray-800 font-bold py-3 px-2 rounded-xl shadow-sm">
                        ğŸŒ Steder
                    </button>
                </div>
            </div>
        </div>

        <!-- GAME SCREEN -->
        <div id="game-screen" class="hidden">
            <!-- Header Info -->
            <div class="flex justify-between items-center mb-4 bg-white/80 backdrop-blur-sm rounded-xl p-3 shadow-md">
                <div class="flex flex-col">
                    <span class="text-xs font-bold text-gray-500 uppercase tracking-wider">NivÃ¥</span>
                    <span id="level-display" class="text-xl font-black text-indigo-600">1/10</span>
                </div>
                <div class="flex flex-col items-center">
                    <span class="text-xs font-bold text-gray-500 uppercase tracking-wider">Tid</span>
                    <span id="timer-text" class="text-xl font-black text-orange-500">10s</span>
                </div>
                <div class="flex flex-col items-end">
                    <span class="text-xs font-bold text-gray-500 uppercase tracking-wider">Poeng</span>
                    <span id="score-display" class="text-xl font-black text-pink-600">0</span>
                </div>
            </div>

            <!-- Progress Bar -->
            <div class="w-full bg-gray-300 rounded-full h-3 mb-6 overflow-hidden border-2 border-white/50">
                <div id="progress-bar" class="progress-bar-fill bg-gradient-to-r from-yellow-400 to-orange-500 h-3 rounded-full" style="width: 0%"></div>
            </div>

            <!-- Question Card -->
            <div class="glass-panel rounded-3xl p-6 mb-6 text-center shadow-2xl relative overflow-hidden transform transition-all hover:scale-[1.02]">
                <!-- Timer Bar -->
                <div class="absolute top-0 left-0 w-full h-2 bg-gray-200">
                    <div id="timer-bar" class="h-full bg-red-500 w-full"></div>
                </div>
                
                <div id="emoji-container" class="text-7xl mb-4 py-4 filter drop-shadow-lg transform transition-all duration-300 hover:scale-110 cursor-help" title="Hva er dette?">
                    ğŸ¦ğŸ‘‘
                </div>
                <!-- Dynamic Category Text -->
                <p id="category-text" class="text-gray-500 font-bold text-sm uppercase tracking-widest mb-1">Hvilken film?</p>
            </div>

            <!-- Options Grid -->
            <div id="options-grid" class="grid grid-cols-1 gap-3">
                <!-- Buttons injected by JS -->
            </div>
            
            <div id="feedback-msg" class="h-8 text-center font-bold text-xl mt-4 text-white drop-shadow-md opacity-0 transition-opacity"></div>
        </div>

        <!-- GAME OVER SCREEN -->
        <div id="end-screen" class="hidden glass-panel rounded-3xl p-8 text-center flex flex-col justify-center">
            <h2 id="end-title" class="text-4xl font-black text-indigo-800 mb-4">Bra jobba! ğŸ‰</h2>
            
            <div class="bg-white/50 rounded-xl p-4 mb-6 border-2 border-white">
                <p class="text-gray-600 text-sm uppercase font-bold">Din Score</p>
                <p id="final-score" class="text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-violet-500">
                    1000
                </p>
            </div>

            <p id="feedback-text" class="text-gray-700 font-semibold mb-8 text-lg">
                Du er en Emoji-ekspert!
            </p>

            <button onclick="location.reload()" class="w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform transition-all hover:-translate-y-1 text-xl border-b-4 border-emerald-800 active:border-b-0 active:translate-y-1">
                GÃ… TIL FORSIDEN ğŸ 
            </button>
        </div>

    </main>

    <script>
        // --- GAME DATA WITH TYPES ---
        const levels = [
            // --- FILMER & SERIER (movies) ---
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¦ğŸ‘‘", answer: "LÃ¸venes Konge", options: ["LÃ¸venes Konge", "Tigergutt", "Jungelboken", "Madagaskar"] },
            { type: "movies", category: "Hvilken film?", emojis: "âš¡ğŸ§™â€â™‚ï¸", answer: "Harry Potter", options: ["Ringenes Herre", "Harry Potter", "Percy Jackson", "Trollmannen fra Oz"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸš¢ğŸ§Š", answer: "Titanic", options: ["BÃ¥ten", "Avatar", "Titanic", "Istid"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ•·ï¸ğŸ•¸ï¸", answer: "Spider-Man", options: ["Batman", "Spider-Man", "Venom", "Ant-Man"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¦•ğŸ¦–", answer: "Jurassic Park", options: ["Godzilla", "Jurassic Park", "Toy Story", "Istid"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘»ğŸš«", answer: "Ghostbusters", options: ["Casper", "Ghostbusters", "Halloween", "Frustrerte Fruer"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘¸â„ï¸â˜ƒï¸", answer: "Frost", options: ["Snehvit", "Askepott", "Frost", "Narnia"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ«ğŸ­ğŸ«", answer: "Charlie og Sjokoladefabrikken", options: ["Godteriland", "Charlie og Sjokoladefabrikken", "Hans og Grete", "Kakemonsteret"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ’ğŸŒ‹ğŸ¦¶", answer: "Ringenes Herre", options: ["Hobbiten", "Game of Thrones", "Ringenes Herre", "Dungeons & Dragons"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¤ ğŸš€ğŸ§¸", answer: "Toy Story", options: ["Small Soldiers", "Lego Filmen", "Toy Story", "Minions"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¤¡ğŸˆ", answer: "IT", options: ["Sirkus", "IT", "Joker", "Opp"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¼ğŸ¥‹", answer: "Kung Fu Panda", options: ["Karate Kid", "Mulan", "Kung Fu Panda", "Turning Red"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ”ğŸŸ", answer: "Oppdrag Nemo", options: ["Den Lille Havfruen", "Oppdrag Nemo", "Haien", "Luca"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘½ğŸš²ğŸŒ•", answer: "E.T.", options: ["Star Wars", "E.T.", "Alien", "Space Jam"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¥ŠğŸ¯", answer: "Rocky", options: ["Karate Kid", "Raging Bull", "Rocky", "Creed"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ´â€â˜ ï¸âš“", answer: "Pirates of the Caribbean", options: ["Peter Pan", "Pirates of the Caribbean", "Skatten pÃ¥ SjÃ¸rÃ¸verÃ¸ya", "Hook"] },
            { type: "movies", category: "Hvilken helt?", emojis: "ğŸ¦‡ğŸ‘¨", answer: "Batman", options: ["Superman", "Batman", "Joker", "Daredevil"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸš”ğŸ©", answer: "Politiskolen", options: ["Brooklyn 99", "Politiskolen", "Die Hard", "The Wire"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ€ğŸ‘¨â€ğŸ³", answer: "Ratatouille", options: ["Stuart Little", "Ratatouille", "Flukten fra HÃ¸nsegÃ¥rden", "Musevisa"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ§Ÿâ€â™‚ï¸ğŸš†", answer: "Train to Busan", options: ["World War Z", "The Walking Dead", "Train to Busan", "Polarekspressen"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘´ğŸ ğŸˆ", answer: "Opp", options: ["Se opp", "Opp", "Hjemme Alene", "Luftslottet"] },
            { type: "movies", category: "Hvilken film-saga?", emojis: "ğŸš€ğŸŒŒâš”ï¸", answer: "Star Wars", options: ["Star Trek", "Guardians of the Galaxy", "Star Wars", "Dune"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¤–â¤ï¸ğŸ¤–", answer: "Wall-E", options: ["Big Hero 6", "Wall-E", "Robots", "Jernkjempen"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘¿ğŸ‘—ğŸ‘ ", answer: "The Devil Wears Prada", options: ["Sex and the City", "Cruella", "The Devil Wears Prada", "Moteuka"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸğŸ¬", answer: "Bee Movie", options: ["Antz", "SmÃ¥kryp", "Bee Movie", "Honningbarna"] },
            { type: "movies", category: "Hvilket eventyr?", emojis: "ğŸ‘§ğŸŒ²ğŸº", answer: "RÃ¸dhette", options: ["Hans og Grete", "RÃ¸dhette", "Ulven kommer", "SkjÃ¸nnheten og Udyret"] },
            { type: "movies", category: "Hvilken serie?", emojis: "ğŸ§ŸğŸ§ŸğŸ§Ÿ", answer: "The Walking Dead", options: ["Zombieland", "The Last of Us", "The Walking Dead", "Thriller"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ§ŠğŸ¿ï¸ğŸŒ°", answer: "Istid", options: ["Madagaskar", "Istid", "Over Hekken", "Bambi"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘ ğŸ•›ğŸƒ", answer: "Askepott", options: ["Tornerose", "Snehvit", "Askepott", "RÃ¸dhette"] },
            { type: "movies", category: "Hvilken serie?", emojis: "ğŸ‰ğŸ”¥ğŸ‘¸ğŸ¼", answer: "Game of Thrones", options: ["Harry Potter", "The Witcher", "Game of Thrones", "Lord of the Rings"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘¹ğŸ°ğŸ«", answer: "Shrek", options: ["Shrek", "Rapunzel", "Drage", "Fiona"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ•°ï¸ğŸš—âš¡", answer: "Tilbake til Fremtiden", options: ["Biler", "Tilbake til Fremtiden", "Speed", "Lynet McQueen"] },
            { type: "movies", category: "Hvilken agent?", emojis: "ğŸ•µï¸â€â™‚ï¸ğŸ¸ğŸ”«", answer: "James Bond", options: ["Mission Impossible", "James Bond", "Bourne", "Kingsman"] },
            { type: "movies", category: "Hvilken serie?", emojis: "ğŸ¦‘ğŸš¦ğŸ¬", answer: "Squid Game", options: ["Hunger Games", "Squid Game", "Battle Royale", "Alice in Borderland"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘»ğŸŸ¢ğŸ¤¢", answer: "Beetlejuice", options: ["Ghostbusters", "The Mask", "Beetlejuice", "Joker"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ§¸ğŸ¯ğŸ¯", answer: "Ole Brumm", options: ["Ted", "Paddington", "Ole Brumm", "Jungelboken"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ§â€â™‚ï¸ğŸ’ğŸ•Œ", answer: "Aladdin", options: ["Mulan", "Aladdin", "Sinbad", "Prinsen av Persia"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸŒ¹ğŸ‘¹ğŸ°", answer: "SkjÃ¸nnheten og Udyret", options: ["Tornerose", "SkjÃ¸nnheten og Udyret", "Shrek", "RÃ¸dhette"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸï¸ğŸâš¡", answer: "Biler", options: ["Herbie", "Biler", "Fast & Furious", "Turbo"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ’ŠğŸ•¶ï¸ğŸ‡", answer: "The Matrix", options: ["John Wick", "The Matrix", "Inception", "Terminator"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸƒâ€â™‚ï¸ğŸ«ğŸ¦", answer: "Forrest Gump", options: ["Big Fish", "Forrest Gump", "Rain Man", "Cast Away"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¦ˆğŸ–ï¸ğŸ˜±", answer: "Haisommer", options: ["Deep Blue Sea", "Haisommer", "The Meg", "Sharknado"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸâœˆï¸ğŸ¤¬", answer: "Snakes on a Plane", options: ["Anaconda", "Snakes on a Plane", "Flight", "Con Air"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ğŸ ğŸ˜±", answer: "Hjemme Alene", options: ["Richie Rich", "Hjemme Alene", "Dennis", "Goonies"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¹ğŸ”¥ğŸ‘§", answer: "Hunger Games", options: ["Divergent", "Hunger Games", "Maze Runner", "Brave"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸŒ‹ğŸ’ğŸ‘ï¸", answer: "Ringenes Herre", options: ["Hobbiten", "Ringenes Herre", "Warcraft", "Narnia"] },
            { type: "movies", category: "Hvilken serie?", emojis: "â˜•ğŸ›‹ï¸ğŸ‘«", answer: "Friends", options: ["Seinfeld", "Friends", "How I Met Your Mother", "Big Bang Theory"] },
            { type: "movies", category: "Hvilken serie?", emojis: "ğŸ§ªâš—ï¸ğŸš", answer: "Breaking Bad", options: ["Better Call Saul", "Breaking Bad", "Narcos", "Ozark"] },
            { type: "movies", category: "Hvilken serie?", emojis: "ğŸš²ğŸ‘½ğŸ§‡", answer: "Stranger Things", options: ["Dark", "Stranger Things", "E.T.", "X-Files"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘½ğŸ“ğŸ‘‰", answer: "E.T.", options: ["Alien", "E.T.", "Star Wars", "Wall-E"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸš¢â¤ï¸ğŸ’", answer: "Titanic", options: ["Poseidon", "Titanic", "Pearl Harbor", "The Notebook"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ¦–ğŸï¸ğŸš™", answer: "Jurassic Park", options: ["King Kong", "Jurassic Park", "Godzilla", "Land Before Time"] },
            { type: "movies", category: "Hvilken film?", emojis: "ğŸ‘»ğŸš«ğŸš’", answer: "Ghostbusters", options: ["Men in Black", "Ghostbusters", "Casper", "Beetlejuice"] },

            
            // --- TING OG BEGREPER (things) ---
            { type: "things", category: "Hva er dette?", emojis: "ğŸ”¥ğŸš’", answer: "Brannbil", options: ["Politi", "Brannbil", "Ambulanse", "Racerbil"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸŒ§ï¸ğŸŒˆ", answer: "Regnbue", options: ["UvÃ¦r", "Solskinn", "Regnbue", "Skyer"] },
            { type: "things", category: "Hvilket vesen?", emojis: "ğŸ§›â€â™‚ï¸âš°ï¸", answer: "Vampyr", options: ["Zombie", "Varulv", "Vampyr", "SpÃ¸kelse"] },
            { type: "things", category: "Hvem er dette?", emojis: "ğŸ…ğŸğŸ¦Œ", answer: "Julenissen", options: ["PÃ¥skeharen", "Tannfeen", "Julenissen", "SnÃ¸mannen"] },
            { type: "things", category: "Hvilken feiring?", emojis: "ğŸƒğŸ¬", answer: "Halloween", options: ["Jul", "PÃ¥ske", "Halloween", "Bursdag"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸ‘‘ğŸ°", answer: "Slott", options: ["Hytte", "Hus", "Slott", "Telt"] },
            { type: "things", category: "Hva gjÃ¸r vi?", emojis: "âœˆï¸ğŸŒ´", answer: "Ferie", options: ["Jobb", "Skole", "Ferie", "Sykehus"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸ®ğŸ•¹ï¸", answer: "Videospill", options: ["Brettspill", "Videospill", "Fotball", "Lekser"] },
            { type: "things", category: "Hvilken sport?", emojis: "âš½ğŸ¥…", answer: "Fotball", options: ["HÃ¥ndball", "Tennis", "Fotball", "Golf"] },
            { type: "things", category: "Hva kalles det?", emojis: "ğŸ“šğŸ›", answer: "Bokorm", options: ["Slange", "Bokorm", "Larve", "Bibliotekar"] },
            { type: "things", category: "Hva symboliseres?", emojis: "ğŸ§ ğŸ’¡", answer: "IdÃ©", options: ["Hodepine", "LyspÃ¦re", "IdÃ©", "StrÃ¸mbrudd"] },
            { type: "things", category: "Hva gjÃ¸r personen?", emojis: "ğŸ˜´ğŸ’¤", answer: "SÃ¸vn", options: ["LÃ¸ping", "Tenking", "SÃ¸vn", "DagdrÃ¸m"] },
            { type: "things", category: "Hva gjÃ¸r personen?", emojis: "ğŸ¤ğŸµ", answer: "Sang", options: ["Tale", "Sang", "Skrik", "Hvisking"] },
            { type: "things", category: "Hvilket sted?", emojis: "ğŸš‘ğŸ¥", answer: "Sykehus", options: ["Brannstasjon", "Skole", "Sykehus", "Butikk"] },
            { type: "things", category: "Hvem er dette?", emojis: "ğŸ¤ ğŸ´", answer: "Cowboy", options: ["Ridder", "Cowboy", "Bonde", "Pirat"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸ›ğŸ¦†", answer: "Badekar", options: ["Dusj", "Basseng", "Badekar", "SjÃ¸en"] },
            { type: "things", category: "Hvilket yrke?", emojis: "ğŸ‘©â€ğŸ«ğŸ", answer: "LÃ¦rer", options: ["Lege", "LÃ¦rer", "Kokk", "Politi"] },
            { type: "things", category: "Hva er dette?", emojis: "â˜”ğŸŒ§ï¸", answer: "Paraply", options: ["Regnjakke", "Paraply", "StÃ¸vler", "Hatt"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸš²ğŸš´", answer: "Sykkel", options: ["Moped", "Sykkel", "Sparkesykkel", "Bil"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸ“¸ğŸ–¼ï¸", answer: "Kamera", options: ["Mobil", "Kamera", "Maleri", "Speil"] },
            { type: "things", category: "Hvilken anledning?", emojis: "ğŸ’ğŸ‘°ğŸ¤µ", answer: "Bryllup", options: ["Bursdag", "Bryllup", "Begravelse", "DÃ¥p"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸ”‘ğŸšª", answer: "NÃ¸kkel", options: ["LÃ¥s", "NÃ¸kkel", "DÃ¸r", "Ring"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸ”‹âš¡", answer: "Batteri", options: ["Lyn", "Batteri", "Lader", "Stikkontakt"] },
            { type: "things", category: "Hva er dette?", emojis: "â°ğŸ’¤", answer: "Vekkerklokke", options: ["Klokke", "Vekkerklokke", "Mobil", "ArmbÃ¥ndsur"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸ•¶ï¸â˜€ï¸", answer: "Solbriller", options: ["Briller", "Solbriller", "Hatt", "Krem"] },
            { type: "things", category: "Hva er dette?", emojis: "ğŸ§¤â„ï¸", answer: "Hansker", options: ["Votter", "Hansker", "Lue", "Skjerf"] },
            { type: "things", category: "Hvilket yrke?", emojis: "ğŸ‘¨â€ğŸ³ğŸ³", answer: "Kokk", options: ["LÃ¦rer", "Kokk", "ServitÃ¸r", "Baker"] },
            { type: "things", category: "Hvilket yrke?", emojis: "ğŸ‘¨â€ğŸš’ğŸ”¥", answer: "Brannmann", options: ["Politi", "Brannmann", "Lege", "Pilot"] },
            { type: "things", category: "Hvilket yrke?", emojis: "ğŸ‘®â€â™‚ï¸ğŸš“", answer: "Politi", options: ["Vakt", "Politi", "Soldat", "Detektiv"] },
            { type: "things", category: "Hvilket yrke?", emojis: "ğŸ‘©â€ğŸš€ğŸš€", answer: "Astronaut", options: ["Pilot", "Astronaut", "Astronom", "Forsker"] },
            { type: "things", category: "Hvilket yrke?", emojis: "ğŸ‘¨â€ğŸ¨ğŸ¨", answer: "Kunstner", options: ["Maler", "Kunstner", "Designer", "Arkitekt"] },
            { type: "things", category: "Hvilket yrke?", emojis: "ğŸ‘¨â€ğŸ”§ğŸ”§", answer: "Mekaniker", options: ["RÃ¸rlegger", "Mekaniker", "Snekker", "IngeniÃ¸r"] },

            // --- VIDEOSPILL (gaming) ---
            { type: "gaming", category: "Hvilket spill?", emojis: "â›ï¸ğŸ’ğŸ§Ÿ", answer: "Minecraft", options: ["Roblox", "Minecraft", "Terraria", "Fortnite"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ„ğŸ‘¨ğŸ»ğŸ”§", answer: "Super Mario", options: ["Sonic", "Super Mario", "Luigi", "Pac-Man"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "âš¡ğŸğŸŸ¡", answer: "Pikachu", options: ["Sonic", "Pikachu", "Yoshi", "Kirby"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸš—âš½ğŸš€", answer: "Rocket League", options: ["FIFA", "Rocket League", "Mario Kart", "Gran Turismo"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ›¡ï¸ğŸ—¡ï¸ğŸ§â€â™€ï¸", answer: "Zelda", options: ["Final Fantasy", "Zelda", "Witcher", "Skyrim"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸŒğŸ¦ğŸ‘”", answer: "Donkey Kong", options: ["King Kong", "Donkey Kong", "Curious George", "Tarzan"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ”«ğŸ—ï¸ğŸ®", answer: "Fortnite", options: ["PUBG", "Fortnite", "Call of Duty", "Apex Legends"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ‘»ğŸ”¦ğŸ˜±", answer: "Luigi's Mansion", options: ["Ghostbusters", "Luigi's Mansion", "Resident Evil", "Silent Hill"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ”µğŸ’¨ğŸ¦”", answer: "Sonic", options: ["Mario", "Sonic", "Crash Bandicoot", "Spyro"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ”ªâ›½ğŸš€", answer: "Among Us", options: ["Fall Guys", "Among Us", "Fortnite", "Minecraft"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸŸ¡ğŸ‘»ğŸ’", answer: "Pac-Man", options: ["Sonic", "Pac-Man", "Mario", "Tetris"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ§±ğŸ“‰", answer: "Tetris", options: ["Minecraft", "Tetris", "Lego", "Roblox"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ¬ğŸ­ğŸ”¨", answer: "Candy Crush", options: ["Fruit Ninja", "Candy Crush", "Hay Day", "Angry Birds"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ˜ ğŸ¦ğŸ·", answer: "Angry Birds", options: ["Flappy Bird", "Angry Birds", "Tiny Wings", "Duck Hunt"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸğŸğŸ“±", answer: "Snake", options: ["Slither.io", "Snake", "Worm", "Python"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸğŸ¤ªğŸ™ï¸", answer: "Goat Simulator", options: ["Farming Simulator", "Goat Simulator", "Sims", "Zoo Tycoon"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸŒŒğŸ”«ğŸ‘·", answer: "Halo", options: ["Destiny", "Halo", "Doom", "Gears of War"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸ¤ ğŸ´ğŸ”«", answer: "Red Dead Redemption", options: ["GTA", "Red Dead Redemption", "Call of Juarez", "Gun"] },
            { type: "gaming", category: "Hvilket spill?", emojis: "ğŸš—ğŸ’¨ğŸš”", answer: "GTA", options: ["Saints Row", "GTA", "Mafia", "Watch Dogs"] },

            // --- MAT & DRIKKE (food) ---
            { type: "food", category: "Hvilken rett?", emojis: "ğŸŒ®ğŸ¥‘ğŸ‡²ğŸ‡½", answer: "Taco", options: ["Burrito", "Taco", "Nachos", "Kebab"] },
            { type: "food", category: "Hvilken rett?", emojis: "ğŸ£ğŸ¥¢ğŸŸ", answer: "Sushi", options: ["Fiskeboller", "Sushi", "Wok", "Reker"] },
            { type: "food", category: "Hvilken rett?", emojis: "ğŸ¥ğŸğŸ¯", answer: "Pannekaker", options: ["Vaffel", "Pannekaker", "BrÃ¸dskive", "Kake"] },
            { type: "food", category: "Hvilken rett?", emojis: "ğŸŒ­ğŸğŸŒ­", answer: "PÃ¸lse i brÃ¸d", options: ["Hamburger", "PÃ¸lse i brÃ¸d", "Kebab", "Pizza"] },
            { type: "food", category: "Hvilken rett?", emojis: "ğŸğŸ‡®ğŸ‡¹", answer: "Spaghetti", options: ["Lasagne", "Spaghetti", "Pizza", "Mac & Cheese"] },
            { type: "food", category: "Hva er dette?", emojis: "ğŸ©â˜•ğŸ‘®", answer: "Donut", options: ["Kjeks", "Donut", "Bolle", "Croissant"] },
            { type: "food", category: "Hvilken rett?", emojis: "ğŸ¥¦ğŸ¥•ğŸ¥’", answer: "Salat", options: ["Suppe", "Salat", "Gryterett", "Smoothie"] },
            { type: "food", category: "Hva er dette?", emojis: "ğŸ¦ğŸ“ğŸ«", answer: "Iskrem", options: ["Yoghurt", "Iskrem", "Pudding", "Milkshake"] },
            { type: "food", category: "Hva er dette?", emojis: "ğŸ¿ğŸ¬", answer: "Popcorn", options: ["Potetgull", "Popcorn", "Godteri", "Sjokolade"] },
            { type: "food", category: "Hvilken frukt?", emojis: "ğŸ‡ğŸ·", answer: "Drue", options: ["Eple", "Drue", "KirsebÃ¦r", "Plomme"] },
            { type: "food", category: "Hva er dette?", emojis: "ğŸ¥“ğŸ³", answer: "Egg og Bacon", options: ["Frokostblanding", "Egg og Bacon", "Omelett", "Pannekaker"] },
            { type: "food", category: "Hvilket bakverk?", emojis: "ğŸ¥ğŸ‡«ğŸ‡·", answer: "Croissant", options: ["Baguette", "Croissant", "Bolle", "Rundstykke"] },
            { type: "food", category: "Hva er dette?", emojis: "ğŸ¥£ğŸ¥•ğŸ¥”", answer: "Suppe", options: ["Gryterett", "Suppe", "GrÃ¸t", "Salat"] },
            { type: "food", category: "Hva er dette?", emojis: "ğŸ«ğŸªğŸ¥›", answer: "Kjeks", options: ["Kake", "Sjokolade", "Kjeks", "BrÃ¸d"] },
            { type: "food", category: "Hvilken frukt?", emojis: "ğŸğŸ‘©â€ğŸ«", answer: "Eple", options: ["PÃ¦re", "Eple", "Appelsin", "Banan"] },
            { type: "food", category: "Hvilken frukt?", emojis: "ğŸŒğŸ’", answer: "Banan", options: ["Mais", "Banan", "Sitron", "Ananas"] },
            { type: "food", category: "Hvilken frukt?", emojis: "ğŸ‰â˜€ï¸", answer: "Vannmelon", options: ["Melon", "Vannmelon", "Gresskar", "Agurk"] },
            { type: "food", category: "Hvilken frukt?", emojis: "ğŸ“ğŸ°", answer: "JordbÃ¦r", options: ["BringebÃ¦r", "JordbÃ¦r", "KirsebÃ¦r", "Tomat"] },
            { type: "food", category: "Hvilken frukt?", emojis: "ğŸ‹ğŸ˜–", answer: "Sitron", options: ["Appelsin", "Sitron", "Lime", "PÃ¦re"] },
            { type: "food", category: "Hvilken frukt?", emojis: "ğŸğŸ•", answer: "Ananas", options: ["KokosnÃ¸tt", "Ananas", "Mango", "Papaya"] },
            { type: "food", category: "Hvilken rett?", emojis: "ğŸ”ğŸŸ", answer: "Hamburger", options: ["PÃ¸lse", "Hamburger", "Sandwich", "Kebab"] },
            { type: "food", category: "Hvilken rett?", emojis: "ğŸ•ğŸ‡®ğŸ‡¹", answer: "Pizza", options: ["Pasta", "Pizza", "Lasagne", "BrÃ¸d"] },
            { type: "food", category: "Hva er dette?", emojis: "ğŸ§€ğŸ­", answer: "Ost", options: ["SmÃ¸r", "Ost", "Kake", "BrÃ¸d"] },
            { type: "food", category: "Hva er dette?", emojis: "ğŸ¥šğŸ”", answer: "Egg", options: ["Kylling", "Egg", "Ball", "Potet"] },

            // --- DYRERIKET (animals) ---
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦’ğŸ¦’ğŸ¦’", answer: "Sjiraff", options: ["Zebra", "Sjiraff", "Elefant", "Kamel"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ§â„ï¸â›¸ï¸", answer: "Pingvin", options: ["IsbjÃ¸rn", "Pingvin", "Sel", "MÃ¥ke"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸğŸğŸ¤", answer: "Slange", options: ["Orm", "Slange", "Ã˜gle", "Krokodille"] },
            { type: "animals", category: "Hvilket vesen?", emojis: "ğŸ¦„ğŸŒˆâœ¨", answer: "EnhjÃ¸rning", options: ["Hest", "EnhjÃ¸rning", "Pegasus", "Esel"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦˜ğŸ¥ŠğŸ‡¦ğŸ‡º", answer: "Kenguru", options: ["Koala", "Kenguru", "Wombat", "Kanin"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ™ğŸŒŠğŸ¦‘", answer: "Blekksprut", options: ["Manet", "Blekksprut", "Krabbe", "Hai"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦‡ğŸŒ™ğŸ©¸", answer: "Flaggermus", options: ["Ugle", "Flaggermus", "MÃ¥ke", "Ravn"] },
            { type: "animals", category: "Hvilket insekt?", emojis: "ğŸğŸ¯ğŸŒ¼", answer: "Bie", options: ["Veps", "Bie", "Humle", "Flue"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ˜ğŸ¥œ", answer: "Elefant", options: ["Neshorn", "Elefant", "Flodhest", "Mammut"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ–ğŸ¥“", answer: "Gris", options: ["Ku", "Gris", "Sau", "Hest"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸºğŸŒ•", answer: "Ulv", options: ["Hund", "Ulv", "Rev", "Jerv"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦ŠğŸ‚", answer: "Rev", options: ["Hund", "Ulv", "Rev", "Katt"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦ˆğŸŒŠ", answer: "Hai", options: ["Hval", "Delfin", "Hai", "Sel"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦…â›°ï¸", answer: "Ã˜rn", options: ["Hauk", "Ã˜rn", "MÃ¥ke", "Due"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¸ğŸŒŠ", answer: "Frosk", options: ["Padde", "Frosk", "Salamander", "Slange"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦ğŸ‘‘", answer: "LÃ¸ve", options: ["Tiger", "LÃ¸ve", "Leopard", "Gepard"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¯ğŸ§¡ğŸ–¤", answer: "Tiger", options: ["LÃ¸ve", "Tiger", "Katt", "Zebra"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ»ğŸ¯", answer: "BjÃ¸rn", options: ["Ulv", "BjÃ¸rn", "Grevling", "Hund"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¼ğŸ‹", answer: "Panda", options: ["BjÃ¸rn", "Panda", "Koala", "VaskebjÃ¸rn"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¨ğŸŒ¿", answer: "Koala", options: ["Panda", "Koala", "Kenguru", "Sloth"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦“âš«âšª", answer: "Zebra", options: ["Hest", "Zebra", "Esel", "Okapi"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸğŸ¤ ", answer: "Hest", options: ["Ku", "Hest", "Esel", "Zebra"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ„ğŸ¥›", answer: "Ku", options: ["Hest", "Ku", "Gris", "Sau"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ‘ğŸ§¶", answer: "Sau", options: ["Geit", "Sau", "Lama", "Alpakka"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸğŸ”ï¸", answer: "Geit", options: ["Sau", "Geit", "Ku", "Hest"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ“ğŸ¥š", answer: "HÃ¸ne", options: ["And", "HÃ¸ne", "Kalkun", "GÃ¥s"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦†ğŸŒŠ", answer: "And", options: ["GÃ¥s", "And", "Svane", "HÃ¸ne"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦ƒğŸ‚", answer: "Kalkun", options: ["HÃ¸ne", "Kalkun", "PÃ¥fugl", "Fasan"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¢ğŸ", answer: "Skilpadde", options: ["Snegle", "Skilpadde", "Frosk", "Krokodille"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦ğŸŸ¢", answer: "Ã˜gle", options: ["Slange", "Ã˜gle", "Frosk", "Kameleon"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸŠğŸ¦·", answer: "Krokodille", options: ["Alligator", "Krokodille", "Dino", "Ã˜gle"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ³ğŸŒŠ", answer: "Hval", options: ["Hai", "Hval", "Delfin", "Sel"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¬ğŸª", answer: "Delfin", options: ["Hval", "Delfin", "Hai", "Sel"] },
            { type: "animals", category: "Hvilket dyr?", emojis: "ğŸ¦€ğŸ–ï¸", answer: "Krabbe", options: ["Hummer", "Krabbe", "Reke", "Skorpion"] },
            { type: "animals", category: "Hvilket insekt?", emojis: "ğŸœğŸ’ª", answer: "Maur", options: ["Termitt", "Maur", "Bille", "Edderkopp"] },
            { type: "animals", category: "Hvilket insekt?", emojis: "ğŸ•·ï¸ğŸ•¸ï¸", answer: "Edderkopp", options: ["Maur", "Edderkopp", "Skorpion", "Flue"] },
            { type: "animals", category: "Hvilket insekt?", emojis: "ğŸ¦‹ğŸŒ¸", answer: "Sommerfugl", options: ["MÃ¸ll", "Sommerfugl", "Bie", "Flue"] },

            // --- LAND & STEDER (geo) ---
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡³ğŸ‡´â›·ï¸ğŸ”ï¸", answer: "Norge", options: ["Sverige", "Norge", "Danmark", "Finland"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡¯ğŸ‡µğŸŒ¸ğŸ£", answer: "Japan", options: ["Kina", "Japan", "Korea", "Thailand"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡®ğŸ‡¹ğŸ•ğŸ›ï¸", answer: "Italia", options: ["Frankrike", "Italia", "Hellas", "Spania"] },
            { type: "geo", category: "Hvilken by?", emojis: "ğŸ‡¬ğŸ‡§â˜•ğŸ’‚", answer: "London", options: ["London", "Dublin", "New York", "Sydney"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡ªğŸ‡¬ğŸ«ğŸ”º", answer: "Egypt", options: ["Marokko", "Egypt", "Dubai", "India"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡«ğŸ‡·ğŸ¥–ğŸ—¼", answer: "Frankrike", options: ["Italia", "Tyskland", "Frankrike", "Belgia"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡ºğŸ‡¸ğŸ”ğŸ¦…", answer: "USA", options: ["Canada", "USA", "Mexico", "Australia"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡§ğŸ‡·âš½ğŸ’ƒ", answer: "Brasil", options: ["Argentina", "Brasil", "Spania", "Portugal"] },
            { type: "geo", category: "Hvilken plass?", emojis: "ğŸï¸ğŸ¥¥", answer: "Ã˜de Ã¸y", options: ["Ã˜rken", "Ã˜de Ã¸y", "Jungel", "Fjell"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡©ğŸ‡ªğŸºğŸ¥¨", answer: "Tyskland", options: ["Belgia", "Tyskland", "Ã˜sterrike", "Sveits"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡ªğŸ‡¸ğŸ’ƒğŸ¥˜", answer: "Spania", options: ["Portugal", "Spania", "Italia", "Mexico"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡¨ğŸ‡³ğŸ¼ğŸ‹", answer: "Kina", options: ["Japan", "Kina", "Korea", "Vietnam"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡®ğŸ‡³ğŸ›ğŸ§˜", answer: "India", options: ["Thailand", "India", "Sri Lanka", "Pakistan"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡¸ğŸ‡ªğŸ‡¸ğŸ‡ªğŸ‡¸ğŸ‡ª", answer: "Sverige", options: ["Norge", "Sverige", "Danmark", "Finland"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡©ğŸ‡°ğŸ‡©ğŸ‡°ğŸ‡©ğŸ‡°", answer: "Danmark", options: ["Norge", "Sverige", "Danmark", "Island"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡«ğŸ‡®ğŸ‡«ğŸ‡®ğŸ‡«ğŸ‡®", answer: "Finland", options: ["Estland", "Finland", "Sverige", "Norge"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡®ğŸ‡¸ğŸŒ‹â„ï¸", answer: "Island", options: ["GrÃ¸nland", "Island", "Norge", "Irland"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡·ğŸ‡ºğŸ»â„ï¸", answer: "Russland", options: ["Ukraina", "Russland", "Polen", "Kina"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡¬ğŸ‡·ğŸ›ï¸ğŸŒŠ", answer: "Hellas", options: ["Italia", "Hellas", "Kypros", "Tyrkia"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡¹ğŸ‡·ğŸ¥™â˜•", answer: "Tyrkia", options: ["Hellas", "Tyrkia", "Egypt", "Iran"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡¦ğŸ‡ºğŸ¦˜ğŸ¨", answer: "Australia", options: ["New Zealand", "Australia", "SÃ¸r-Afrika", "USA"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡¨ğŸ‡¦ğŸğŸ’", answer: "Canada", options: ["USA", "Canada", "Norge", "Russland"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡²ğŸ‡½ğŸŒ®ğŸŒµ", answer: "Mexico", options: ["Spania", "Mexico", "Brasil", "Peru"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡¦ğŸ‡·âš½ğŸ¥©", answer: "Argentina", options: ["Brasil", "Argentina", "Chile", "Uruguay"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡»ğŸ‡³ğŸœğŸ›µ", answer: "Vietnam", options: ["Thailand", "Vietnam", "Kina", "Japan"] },
            { type: "geo", category: "Hvilket land?", emojis: "ğŸ‡¹ğŸ‡­ğŸ˜ğŸï¸", answer: "Thailand", options: ["Vietnam", "Thailand", "Indonesia", "India"] },
            { type: "geo", category: "Hvilken by?", emojis: "ğŸ—½ğŸğŸš•", answer: "New York", options: ["Los Angeles", "New York", "Chicago", "London"] },
            { type: "geo", category: "Hvilken by?", emojis: "ğŸ—¼ğŸ¥ğŸ·", answer: "Paris", options: ["Roma", "Paris", "Berlin", "London"] },
            { type: "geo", category: "Hvilken by?", emojis: "ğŸ•‹ğŸ•Œ", answer: "Mekka", options: ["Dubai", "Mekka", "Istanbul", "Jerusalem"] },

            // --- MUSIKK (music) ---
            { type: "music", category: "Hvilken artist?", emojis: "ğŸ•ºğŸ‘‘ğŸ¤", answer: "Michael Jackson", options: ["Elvis", "Michael Jackson", "Prince", "Bruno Mars"] },
            { type: "music", category: "Hvilket band?", emojis: "ğŸ¸âš¡ğŸ¤˜", answer: "AC/DC", options: ["Metallica", "AC/DC", "KISS", "Nirvana"] },
            { type: "music", category: "Hvilken artist?", emojis: "ğŸ¹ğŸ•¶ï¸ğŸš€", answer: "Elton John", options: ["Billy Joel", "Elton John", "Freddie Mercury", "David Bowie"] },
            { type: "music", category: "Hvilken artist?", emojis: "ğŸ‘±â€â™€ï¸ğŸ’„ğŸ¤", answer: "Taylor Swift", options: ["Katy Perry", "Taylor Swift", "Lady Gaga", "BeyoncÃ©"] },
            { type: "music", category: "Hvilket band?", emojis: "ğŸ‡¬ğŸ‡§ğŸğŸ¢", answer: "The Beatles", options: ["Rolling Stones", "The Beatles", "Queen", "U2"] },
            { type: "music", category: "Hvilket band?", emojis: "ğŸ‘‘ğŸ‘¨ğŸ»ğŸ¤", answer: "Queen", options: ["Beatles", "Queen", "KISS", "Pink Floyd"] },
            { type: "music", category: "Hvilket band?", emojis: "ğŸ‡¸ğŸ‡ªğŸ’ƒğŸ•º", answer: "ABBA", options: ["Roxette", "ABBA", "A-ha", "Ace of Base"] },
            { type: "music", category: "Hvilket band?", emojis: "ğŸ‘„ğŸŒ¶ï¸", answer: "Spice Girls", options: ["Destiny's Child", "Spice Girls", "TLC", "Little Mix"] },
            { type: "music", category: "Hvilken artist?", emojis: "ğŸ¬ğŸ‘¦", answer: "Eminem", options: ["50 Cent", "Eminem", "Snoop Dogg", "Jay-Z"] },
            { type: "music", category: "Hvilken artist?", emojis: "ğŸğŸ‘‘", answer: "BeyoncÃ©", options: ["Rihanna", "BeyoncÃ©", "Whitney Houston", "Mariah Carey"] },
            { type: "music", category: "Hvilken artist?", emojis: "â˜‚ï¸ğŸ’", answer: "Rihanna", options: ["BeyoncÃ©", "Rihanna", "Katy Perry", "Sia"] },
            { type: "music", category: "Hvilken artist?", emojis: "ğŸ¥©ğŸ‘—", answer: "Lady Gaga", options: ["Madonna", "Lady Gaga", "Kesha", "Miley Cyrus"] },
            { type: "music", category: "Hvilken artist?", emojis: "ğŸ‡¬ğŸ‡§ğŸ“ğŸ’”", answer: "Adele", options: ["Sia", "Adele", "Amy Winehouse", "Celine Dion"] },
            { type: "music", category: "Hvilken artist?", emojis: "ğŸğŸ‘¶ğŸ¶", answer: "Justin Bieber", options: ["Shawn Mendes", "Justin Bieber", "Harry Styles", "Ed Sheeran"] },
            { type: "music", category: "Hvilken artist?", emojis: "â—ğŸ¸ğŸ§¡", answer: "Ed Sheeran", options: ["Sam Smith", "Ed Sheeran", "Lewis Capaldi", "Coldplay"] },
            { type: "music", category: "Hvilket band?", emojis: "ğŸ¥¶ğŸ®", answer: "Coldplay", options: ["Imagine Dragons", "Coldplay", "OneRepublic", "Maroon 5"] },
            { type: "music", category: "Hvilken artist?", emojis: "ğŸŸ£ğŸŒ§ï¸ğŸ¸", answer: "Prince", options: ["Michael Jackson", "Prince", "David Bowie", "Jimi Hendrix"] },
            { type: "music", category: "Hvilket band?", emojis: "ğŸ”«ğŸŒ¹", answer: "Guns N' Roses", options: ["Bon Jovi", "Guns N' Roses", "Aerosmith", "Nirvana"] },
            { type: "music", category: "Hvilket band?", emojis: "ğŸ‘…ğŸ¸ğŸ‘¹", answer: "KISS", options: ["AC/DC", "KISS", "Metallica", "Iron Maiden"] },
            { type: "music", category: "Hvilken artist?", emojis: "ğŸ•¯ï¸ğŸ’¨ğŸ‘¸", answer: "Elton John", options: ["Billy Joel", "Elton John", "Phil Collins", "George Michael"] }
        ];

        // --- STATE ---
        let currentLevelIndex = 0;
        let score = 0;
        let isAnswering = false;
        let gameLevels = []; 
        let timerInterval;
        let timeLeft;
        let selectedTimeLimit = 10; // Default

        // Init: Show total questions
        document.getElementById('total-questions').innerText = levels.length;

        // --- AUDIO ENGINE (Synth) ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            if (type === 'correct') {
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(500, audioCtx.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(1000, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.5);
            } else if (type === 'wrong') {
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
                oscillator.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.3);
            } else if (type === 'click') {
                oscillator.type = 'triangle';
                oscillator.frequency.setValueAtTime(800, audioCtx.currentTime);
                gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.05);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.05);
            } else if (type === 'timeout') {
                oscillator.type = 'square';
                oscillator.frequency.setValueAtTime(100, audioCtx.currentTime);
                gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.5);
            }
        }

        // --- UTILS ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function createFloatingEmojis() {
            const container = document.getElementById('background-elements');
            const emojis = ['ğŸ•', 'ğŸš€', 'ğŸˆ', 'ğŸ‰', 'ğŸ¦„', 'ğŸŒµ', 'ğŸ©', 'ğŸ¨', 'ğŸ”¥', 'ğŸ‘»'];
            container.innerHTML = ''; // Clear existing
            
            for(let i = 0; i < 20; i++) {
                const el = document.createElement('div');
                el.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                el.classList.add('floater');
                el.style.left = Math.random() * 100 + 'vw';
                el.style.animationDuration = (Math.random() * 15 + 10) + 's';
                el.style.animationDelay = (Math.random() * 10) + 's';
                el.style.fontSize = (Math.random() * 2 + 1) + 'rem';
                container.appendChild(el);
            }
        }

        function selectTime(val) {
            selectedTimeLimit = val;
            
            // UI Update
            document.querySelectorAll('.select-btn').forEach(btn => btn.classList.remove('selected'));
            if (val === 'inf') {
                document.getElementById('btn-inf').classList.add('selected');
            } else {
                document.getElementById('btn-' + val + 's').classList.add('selected');
            }
            playSound('click');
        }

        // --- CORE GAME LOGIC ---

        function startGame(categoryMode) {
            playSound('click');
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('end-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            
            currentLevelIndex = 0;
            score = 0;
            
            let possibleLevels = [];
            
            // Filter by category
            if (categoryMode === 'all') {
                possibleLevels = [...levels];
            } else {
                possibleLevels = levels.filter(l => l.type === categoryMode);
            }

            // Shuffle and pick top 10 (or less if category is small)
            gameLevels = shuffleArray([...possibleLevels]).slice(0, 10);
            
            // If category is too small, duplicate some? No, just play what we have.
            
            updateScoreUI();
            loadLevel();
        }

        function loadLevel() {
            isAnswering = false;
            const levelData = gameLevels[currentLevelIndex];
            
            // UI Updates
            document.getElementById('level-display').innerText = `${currentLevelIndex + 1}/${gameLevels.length}`;
            document.getElementById('emoji-container').innerText = levelData.emojis;
            document.getElementById('category-text').innerText = levelData.category;
            document.getElementById('feedback-msg').style.opacity = '0';
            
            // Progress Bar
            const percent = (currentLevelIndex / gameLevels.length) * 100;
            document.getElementById('progress-bar').style.width = `${percent}%`;

            // Reset and Start Timer
            startTimer();

            // Setup Options
            const optionsContainer = document.getElementById('options-grid');
            optionsContainer.innerHTML = '';
            
            const shuffledOptions = shuffleArray([...levelData.options]);

            shuffledOptions.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.innerText = opt;
                btn.className = "option-btn bg-white/70 backdrop-blur text-gray-800 font-bold py-4 px-4 rounded-xl shadow-md border-b-4 border-gray-300 active:border-b-0 active:translate-y-1 text-lg hover:bg-white";
                // Stagger animation
                btn.style.animationDelay = (index * 0.1) + 's';
                
                btn.onclick = () => handleAnswer(btn, opt, levelData.answer);
                optionsContainer.appendChild(btn);
            });
        }

        function startTimer() {
            clearInterval(timerInterval);
            const timerBar = document.getElementById('timer-bar');
            const timerText = document.getElementById('timer-text');
            
            // Reset Styles
            timerBar.classList.remove('timer-active', 'timerShrink', 'timer-danger');
            timerBar.style.width = '100%';
            timerBar.style.backgroundColor = '#ef4444'; // Reset color

            if (selectedTimeLimit === 'inf') {
                timeLeft = Infinity;
                timerText.innerText = "âˆ";
                timerBar.style.width = '100%'; 
                timerBar.style.backgroundColor = '#4ade80'; // Green for infinite
                return;
            }

            timeLeft = selectedTimeLimit;
            updateTimerUI();
            
            void timerBar.offsetWidth; // Trigger reflow
            timerBar.style.animationDuration = `${selectedTimeLimit}s`;
            timerBar.classList.add('timer-active', 'timerShrink');
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerUI();
                
                // Add Pulse warning at 3 seconds
                if (timeLeft <= 3 && timeLeft > 0) {
                     timerBar.classList.add('timer-danger');
                     playSound('click'); // Ticking sound
                }

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    handleTimeOut();
                }
            }, 1000);
        }

        function updateTimerUI() {
            if (timeLeft === Infinity) return;
            document.getElementById('timer-text').innerText = `${timeLeft}s`;
        }

        function handleTimeOut() {
            if (isAnswering) return;
            isAnswering = true;
            playSound('timeout');
            showFeedback("Tiden er ute! â°");
            
            const levelData = gameLevels[currentLevelIndex];
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(b => {
                b.disabled = true;
                if (b.innerText === levelData.answer) {
                    b.style.animationDelay = '0s'; // Clear delay
                    b.classList.add('pop-success');
                } else {
                     b.classList.add('opacity-50');
                }
            });

            setTimeout(() => {
                nextLevel();
            }, 2000);
        }

        function handleAnswer(btn, selected, correct) {
            if (isAnswering) return;
            isAnswering = true;
            clearInterval(timerInterval); 
            document.getElementById('timer-bar').classList.remove('timer-active', 'timer-danger'); 
            
            // IMPORTANT: Clear the animation delay on the clicked button 
            // so the color change happens instantly
            btn.style.animationDelay = '0s';

            if (selected === correct) {
                // CORRECT
                playSound('correct');
                
                // Bonus score for speed (0 if infinite)
                let bonus = 0;
                if (selectedTimeLimit !== 'inf') {
                    bonus = timeLeft * 10;
                    if(selectedTimeLimit === 5) bonus *= 2; // Double bonus for hard mode
                }
                
                score += (100 + bonus);
                
                btn.classList.remove('bg-white/70', 'text-gray-800', 'border-gray-300');
                btn.classList.add('pop-success');
                
                // Confetti
                const rect = btn.getBoundingClientRect();
                const x = (rect.left + rect.width / 2) / window.innerWidth;
                const y = (rect.top + rect.height / 2) / window.innerHeight;
                
                confetti({
                    particleCount: 60,
                    spread: 70,
                    origin: { x: x, y: y },
                    colors: ['#4ade80', '#ffffff', '#fbbf24']
                });

                if (bonus > 0) {
                    showFeedback(`Riktig! +${bonus} bonus! ğŸŒŸ`);
                } else {
                    showFeedback("Riktig! ğŸŒŸ");
                }

                setTimeout(() => {
                    nextLevel();
                }, 1200);

            } else {
                // WRONG
                playSound('wrong');
                btn.classList.remove('bg-white/70', 'text-gray-800', 'border-gray-300');
                btn.classList.add('pop-fail');
                
                const card = btn.parentElement.parentElement;
                card.classList.add('shake');
                setTimeout(() => card.classList.remove('shake'), 500);

                showFeedback("Feil svar ğŸ˜¢");

                const buttons = document.querySelectorAll('.option-btn');
                buttons.forEach(b => {
                    if (b.innerText === correct) {
                        // Clear delay here too
                        b.style.animationDelay = '0s';
                        setTimeout(() => {
                            b.classList.add('pop-success');
                        }, 200);
                    }
                });

                setTimeout(() => {
                    nextLevel();
                }, 1500);
            }
            updateScoreUI();
        }

        function showFeedback(msg) {
            const el = document.getElementById('feedback-msg');
            el.innerText = msg;
            el.style.opacity = '1';
        }

        function nextLevel() {
            currentLevelIndex++;
            if (currentLevelIndex < gameLevels.length) {
                loadLevel();
            } else {
                gameOver();
            }
        }

        function updateScoreUI() {
            const scoreEl = document.getElementById('score-display');
            scoreEl.innerText = score;
            scoreEl.classList.add('scale-125');
            setTimeout(() => scoreEl.classList.remove('scale-125'), 100);
        }

        function gameOver() {
            playSound('correct');
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('end-screen').classList.remove('hidden');
            
            document.getElementById('final-score').innerText = score;

            const title = document.getElementById('end-title');
            const feedback = document.getElementById('feedback-text');
            
            // Adjusted thresholds
            if (score > 1200) {
                title.innerText = "LEGENDARISK! ğŸ†";
                feedback.innerText = "Lynrask og smart! Wow!";
                confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
            } else if (score > 800) {
                title.innerText = "Fantastisk! ğŸ‰";
                feedback.innerText = "Du er en ekte ekspert.";
                confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
            } else {
                title.innerText = "Bra jobba! ğŸ‘";
                feedback.innerText = "PrÃ¸v igjen for Ã¥ slÃ¥ rekorden!";
            }
        }

        createFloatingEmojis();

    </script>
</body>
</html>
